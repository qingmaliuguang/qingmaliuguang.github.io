---
title: 并发编程
date: 2021-09-09 10:58:59
tags: Java
categories: recycle-bin
---

# 1. 操作系统进程的状态

三种基本状态：就绪态、执行态、阻塞态。这三种基本状态是每个OS中都会有的，因此也称之为基本状态，

下面先给出三种基本状态的定义：

- **就绪（Ready）状态**：通过Ready我们可以看到，处于此状态的进程已经处于准备好要运行了，此时进程已经分配好除CPU外的所有必要资源，只需获得CPU（CPU如何进行分配，请关注后续有关处理机调度的博文），便可立即执行。用一句话来描述处于就绪态的进程：万事俱备，只欠CPU。另外还有一个就绪队列的概念，处于就绪态的进程都在此队列中，等待着调度程序的调度（分配CPU）。

- **执行（Running）状态**：Running，运行中的，处于此状态的进程是已经获得CPU并且正在执行中。对于这一状态，在单CPU OS中，同一时刻只能有一个进程处于此状态，而在多CPU OS中，则可以有多个（不超过CPU的数量）进程同时处于执行状态。

- **阻塞（Block）状态**：阻塞，百度释义为：障碍而不能通过，无法畅通。处于此状态的进程是因为在执行的过程中由于发生某种需要等待的事件（I/O请求、申请缓存失败、等待接收数据等），而暂时无法继续执行。我们知道在多道批处理系统中，此时需要进程把处理机释放，并选取新的就绪进程执行。与就绪队列相对应的，处于阻塞状态的进程都在阻塞队列中，某些OS中，出于提高效率的目的，根据阻塞的原因，会有多个阻塞队列。

  > Y：阻塞是在等待CPU之外的资源？好像不止，等待事件，比如建立Socket连接的请求事件。

<img src="https://love-coder-blog-images.oss-cn-beijing.aliyuncs.com/images-unnamed/process_state_trans.jpeg" alt="进程三种基本状态转换图" style="zoom: 50%;" />

各个状态切换发生的原因：

- 就绪态—>执行态：进程获得CPU（被调度程序选中）；
- 执行态—>阻塞态：向OS请求共享资源（互斥、同步）失败、等待某种操作完成、新数据尚未到达（I/O操作）、等待新任务的到达；
- 阻塞态—>阻塞态：上述的四类等待事件发生；
- 执行态—>就绪态：分配给进程的时间片执行完成（轮转调度算法）、高优先级的进程到达（抢占式调度）。

# 2. Java 线程

基于内核线程（实际是系统提供的轻量级进程）实现，与内核线程1:1，由系统进行调度。

Java中定义的线程状态Thread.State：

------

> 内容来源：
>
> - [操作系统进程状态和状态转换详解](https://blog.csdn.net/qq_34666857/article/details/102852747)

